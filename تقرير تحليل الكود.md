## ุชูุฑูุฑ ุชุญููู ุงูููุฏ




### 1. ููุชุงุญ Firebase API ููุดูู (ูุดููุฉ ุฃูููุฉ ุญุฑุฌุฉ)

**ุงููุดููุฉ:**
ุงูููุฏ ูููู ุจุชุถููู ุฅุนุฏุงุฏุงุช Firebase ูุจุงุดุฑุฉ ูู ููู HTMLุ ุจูุง ูู ุฐูู `apiKey`. ูุฐุง ูุนูู ุฃู ุฃู ุดุฎุต ููููู ุนุฑุถ ูุตุฏุฑ ุงูุตูุญุฉ ูุงููุตูู ุฅูู ููุชุงุญ API ุงูุฎุงุต ุจู. ูููู ููููุงุฌููู ุงุณุชุฎุฏุงู ูุฐุง ุงูููุชุงุญ ูููุตูู ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช Firebase ุงูุฎุงุตุฉ ุจูุ ููุง ูุฏ ูุคุฏู ุฅูู ุณุฑูุฉ ุงูุจูุงูุงุช ุฃู ุฅุชูุงููุง ุฃู ุชูุจุฏ ุชูุงููู ุบูุฑ ูุชููุนุฉ.

**ุงูุญู ุงูููุชุฑุญ:**
ูุฌุจ ููู ููุทู ุงูุชุนุงูู ูุน Firebase ุฅูู ุฎูููุฉ (backend) ุขููุฉ. ุจุฏูุงู ูู ุงุณุชุฏุนุงุก Firebase ูุจุงุดุฑุฉ ูู ุงูุนููู (ุงููุชุตูุญ)ุ ูุฌุจ ุนูู ุงูุนููู ุฅุฑุณุงู ุทูุจุงุช ุฅูู ุงูุฎุงุฏู ุงูุฎุงุต ุจูุ ูุณูููู ุงูุฎุงุฏู ุจุฏูุฑู ุจุงูุชูุงุตู ูุน Firebase. ูุฐุง ูุถูู ุจูุงุก ููุชุงุญ API ุงูุฎุงุต ุจู ุณุฑููุง.




### 1. ููุชุงุญ Firebase API ููุดูู (ูุดููุฉ ุฃูููุฉ ุญุฑุฌุฉ) - ุชุญุฏูุซ ุจูุงุกู ุนูู ุจูุฆุฉ ุงููุดุฑ

**ุงููุดููุฉ:**
ุงูููุฏ ูููู ุจุชุถููู ุฅุนุฏุงุฏุงุช Firebase ูุจุงุดุฑุฉ ูู ููู HTMLุ ุจูุง ูู ุฐูู `apiKey`. ูุฐุง ูุนูู ุฃู ุฃู ุดุฎุต ููููู ุนุฑุถ ูุตุฏุฑ ุงูุตูุญุฉ ูุงููุตูู ุฅูู ููุชุงุญ API ุงูุฎุงุต ุจู. ูููู ููููุงุฌููู ุงุณุชุฎุฏุงู ูุฐุง ุงูููุชุงุญ ูููุตูู ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช Firebase ุงูุฎุงุตุฉ ุจูุ ููุง ูุฏ ูุคุฏู ุฅูู ุณุฑูุฉ ุงูุจูุงูุงุช ุฃู ุฅุชูุงููุง ุฃู ุชูุจุฏ ุชูุงููู ุบูุฑ ูุชููุนุฉ.

**ุชุฃุซูุฑ ุนูู ุจูุฆุฉ ุงููุดุฑ (Firebase Hosting, Vercel, GitHub, Mobile Development):**
ุฅุฐุง ููุช ุจุญุฐู ููุฏ Firebase ุงูุชุฌุฑูุจูุ ูุฅู ูุธุงุฆู ุงูุชุทุจูู ุงูุชู ุชุนุชูุฏ ุนูู Firebase (ูุซู ุญูุธ ูุนุฑุถ ุงูุจูุงูุงุช) ุณุชุชููู ุนู ุงูุนูู. ุจูุง ุฃูู ุชุณุชุฎุฏู Firebase Hosting ู Vercelุ ูุฅู ููุชุงุญ API ุณูููู ููุดูููุง ูู ุงูููุฏ ุงููุตุฏุฑู ุงูุฐู ูุชู ุชูุฏููู ูููุชุตูุญ. ุงูุนูู ูู ุงูุฌูุงู ูุฑูุน ุงูููุฏ ุนูู GitHub ูุง ูุบูุฑ ูู ุญูููุฉ ุฃู ุงูููุชุงุญ ููุดูู ููุนุงูุฉ.

**ุงูุญู ุงูููุชุฑุญ (ูุน ูุฑุงุนุงุฉ ุจูุฆุฉ ุงููุดุฑ):**
ูุธุฑูุง ูุจูุฆุฉ ุนููู (ุชุทููุฑ ุนูู ุงูุฌูุงูุ GitHubุ Firebase Hosting)ุ ูุฅู ุงูุญู ุงููุซุงูู (ููู ููุทู Firebase ุฅูู ุฎุงุฏู ุฎููู) ูุฏ ูููู ูุนูุฏูุง ุฌุฏูุง ููุชุทุจูู ุงูุญุงูู. ุฅููู ุจุนุถ ุงูุจุฏุงุฆู ุงูุชู ูููู ุฃู ุชุญุณู ุงูุฃูุงู:

*   **ุชูููุฏ ููุชุงุญ API (API Key Restrictions):** ูุฐู ูู ุงูุฎุทูุฉ ุงูุฃูุซุฑ ุฃูููุฉ ูุงูุฃุณูู ููุชุทุจูู. ูู ููุญุฉ ุชุญูู Google Cloud Console (ุงูุชู ุชุฏูุฑ ููุงุชูุญ API ูู Firebase)ุ ููููู ุชูููุฏ ููุชุงุญ API ุงูุฎุงุต ุจู ุจุญูุซ ูุนูู ููุท ูู ูุทุงูุงุช ูุนููุฉ (ูุซู `mune-enhanced.vercel.app` ู `localhost` ููุชุทููุฑ) ููู ุชุทุจููุงุช ูุนููุฉ (ุฅุฐุง ููุช ุชุณุชุฎุฏู Firebase Authentication). ูุฐุง ูููุน ุงุณุชุฎุฏุงู ุงูููุชุงุญ ูู ููุงูุน ุฃุฎุฑู.
    *   **ููููุฉ ุงูุชุทุจูู:**
        1.  ุงุฐูุจ ุฅูู [Google Cloud Console](https://console.cloud.google.com/).
        2.  ุงุจุญุซ ุนู 


ูุณู 'APIs & Services' ุซู 'Credentials'.
        3.  ุงุฎุชุฑ ููุชุงุญ API ุงูุฎุงุต ุจู.
        4.  ูู ูุณู 'Application restrictions'ุ ุงุฎุชุฑ 'HTTP referrers (web sites)' ูุฃุถู ุงููุทุงูุงุช ุงูุชู ุชุณุชุฎุฏููุง (`https://mune-enhanced.vercel.app/*` ู `http://localhost:*/`).
        5.  ูู ูุณู 'API restrictions'ุ ุงุฎุชุฑ 'Restrict key' ูุญุฏุฏ ููุท ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุชู ูุณุชุฎุฏููุง ุชุทุจููู (ูุซู Firestore API).
        6.  ุงุญูุธ ุงูุชุบููุฑุงุช.

*   **ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables):** ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ุฃูุซุฑ ุชุนููุฏูุง ููููุงู ูู ุจูุฆุฉ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุงูุจุญุชุฉุ ุฅูุง ุฃูู ูููู ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงูุจูุงุก (ูุซู Webpack ุฃู Vite) ูุญูู ููุชุงุญ API ููุชุบูุฑ ุจูุฆุฉ ุฃุซูุงุก ุนูููุฉ ุงูุจูุงุก. ูุฐุง ูุฌุนูู ุบูุฑ ูุฑุฆู ูู ุงูููุฏ ุงููุตุฏุฑู ูู GitHubุ ููููู ูุง ูุฒุงู ููุดูููุง ูู ุงูููุฏ ุงูููุงุฆู ุงูุฐู ูุชู ุชูุฏููู ูููุชุตูุญ. ููุน ุฐููุ ููู ุฃูุถู ูู ุชุฑูู ูู ุงูููุฏ ุงููุตุฏุฑู ูุจุงุดุฑุฉ.

*   **Firebase Authentication (ูููุณุชุฎุฏููู):** ุฅุฐุง ูุงู ุชุทุจููู ุณูุชุนุงูู ูุน ุจูุงูุงุช ุญุณุงุณุฉ ูููุณุชุฎุฏูููุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู Firebase Authentication ูุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏููู ูุชุญุฏูุฏ ุตูุงุญูุงุชูู (Firebase Security Rules) ุจุฏูุงู ูู ุงูุงุนุชูุงุฏ ููุท ุนูู ููุชุงุญ API ุงูุนุงู.

**ููุงุญุธุฉ ูุงูุฉ:** ุญุชู ูุน ุชูููุฏ ููุชุงุญ APIุ ูุง ูุฒุงู ุจุฅููุงู ุงูููุงุฌููู ุงููุญุชุฑููู ุงุณุชุฎุฏุงูู ุฅุฐุง ุชููููุง ูู ูุญุงูุงุฉ ุทูุจุงุช ุงููุชุตูุญ. ุงูุญู ุงูุฃูุซุฑ ุฃูุงููุง ูู ุงุณุชุฎุฏุงู ุฎุงุฏู ุฎูููุ ูููู ุชูููุฏ ููุชุงุญ API ูููู ุจุดูู ูุจูุฑ ูู ูุฎุงุทุฑ ุงูุงุณุชุฎุฏุงู ุบูุฑ ุงููุตุฑุญ ุจู.




### 2. ุงูุชุญูู ูู ุงููุฏุฎูุงุช (Input Validation) ุบูุฑ ูุงูู

**ุงููุดููุฉ:**
ุงูููุฏ ุงูุญุงูู ูุชุญูู ููุท ููุง ุฅุฐุง ูุงูุช ุญููู ุงูุฅุฏุฎุงู ุงููุทููุจุฉ ูุงุฑุบุฉ (`!name || !amount || !start`). ููุน ุฐููุ ูุง ูุชู ุงูุชุญูู ูู ููุน ุงูุจูุงูุงุช ุฃู ูุทุงููุง. ุนูู ุณุจูู ุงููุซุงูุ ูููู ูููุณุชุฎุฏู ุฅุฏุฎุงู ูุต ูู ุญูู ูุชููุน ุฑูููุงุ ุฃู ุชุงุฑูุฎูุง ุบูุฑ ุตุงูุญุ ููุง ูุฏ ูุคุฏู ุฅูู ุฃุฎุทุงุก ูู ุงูุญุณุงุจุงุช ุฃู ุนุฑุถ ุงูุจูุงูุงุช.

**ุฃูุซูุฉ:**
*   ุญููู `amount` ู `salary` ู `savingTarget` ูุชู ุชุญููููุง ุฅูู ุฃุฑูุงู ุจุงุณุชุฎุฏุงู `+` (unary plus operator)ุ ูููู ุฅุฐุง ูุงู ุงูุฅุฏุฎุงู ุบูุฑ ุฑูููุ ูุณูุตุจุญ `NaN` (Not a Number)ุ ููุง ูุฏ ูุณุจุจ ูุดุงูู ูู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุงููุงุญูุฉ.
*   ุญููู ุงูุชุงุฑูุฎ (`start`, `end`, `date`) ูุง ูุชู ุงูุชุญูู ูู ุตุญุชูุง ูุชูุงุฑูุฎ ูุนููุฉ.
*   ุญููู `dueDay` (ููู ุงูุงุณุชุญูุงู) ูุง ูุชู ุงูุชุญูู ูู ุฃููุง ุถูู ุงููุทุงู ุงูุตุญูุญ (1-31).

**ุงูุญู ุงูููุชุฑุญ:**
ูุฌุจ ุฅุถุงูุฉ ุชุญูู ุฃูุซุฑ ุตุฑุงูุฉ ุนูู ุงููุฏุฎูุงุช:
*   **ููุฃุฑูุงู:** ุงุณุชุฎุฏู `isNaN()` ููุชุญูู ููุง ุฅุฐุง ูุงูุช ุงููููุฉ ุงููุญููุฉ ุฑูููุง ุตุงูุญูุง. ููููู ุฃูุถูุง ุงูุชุญูู ูู ุฃู ุงูุฑูู ููุฌุจ ุฅุฐุง ูุงู ุฐูู ูุทููุจูุง.
*   **ููุชูุงุฑูุฎ:** ุชุญูู ูู ุฃู ุงูุชูุงุฑูุฎ ุงููุฏุฎูุฉ ุตุงูุญุฉ ูุฃู ุชุงุฑูุฎ ุงูุจุฏุก ูุง ูุฃุชู ุจุนุฏ ุชุงุฑูุฎ ุงูุงูุชูุงุก.
*   **ูุฃูุงู ุงูุงุณุชุญูุงู:** ุชุญูู ูู ุฃููุง ุจูู 1 ู 31.

**ูุซุงู ุนูู ุงูุชุญุณูู (ูุญูู ุงููุจูุบ):**
```javascript
const amount = +$("#instAmount").value;
if (isNaN(amount) || amount <= 0) {
    showToast("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ูุจูุบ ุตุงูุญ ูููุฌุจ", "warning");
    return;
}
```




### 3. ุนุฏู ุงุชุณุงู ูู ุชูููุฏ ุงููุนุฑูุงุช (IDs) ููุนูุงุตุฑ

**ุงููุดููุฉ:**
ูุณุชุฎุฏู ุงูููุฏ ุทุฑููุง ูุฎุชููุฉ ูุชูููุฏ ุงููุนุฑูุงุช (IDs) ููุนูุงุตุฑ ุงูุฌุฏูุฏุฉ:
*   `crypto.randomUUID()`: ูุณุชุฎุฏู ูุชูููุฏ ูุนุฑูุงุช ูุฑูุฏุฉ ุนุงููููุง (UUIDs) ููุฃูุณุงุท ูุงูููุงุชูุฑ ูุงูููุฒุงููุงุช.
*   `Date.now() + Math.random()`: ูุณุชุฎุฏู ูุชูููุฏ ูุนุฑูุงุช ูููุตุงุฑูู ูุงููุตุงุฑูู ุงูุฎุงุฑุฌูุฉ.

ูุฐุง ุงูุชูุงูุถ ูููู ุฃู ูุคุฏู ุฅูู ูุดุงูู ูู ุงููุณุชูุจู ุฅุฐุง ูุงู ููุงู ุญุงุฌุฉ ูุชูุญูุฏ ุทุฑููุฉ ุงูุชุนุงูู ูุน ุงููุนุฑูุงุชุ ุฃู ุฅุฐุง ูุงูุช ููุงู ูุฑุตุฉ ูุชุตุงุฏู ุงููุนุฑูุงุช (ูุฅู ูุงูุช ุถุฆููุฉ ุฌุฏูุง ูุน `Date.now() + Math.random()`).

**ุงูุญู ุงูููุชุฑุญ:**
ูุฌุจ ุชูุญูุฏ ุทุฑููุฉ ุชูููุฏ ุงููุนุฑูุงุช. `crypto.randomUUID()` ูู ุงูุทุฑููุฉ ุงูููุถูุฉ ูุชูููุฏ ูุนุฑูุงุช ูุฑูุฏุฉ ููููุฉ. ููุน ุฐููุ ูุฌุจ ุงูุชุญูู ูู ุฏุนู ุงููุชุตูุญ ููุง (ุนูู ุงูุฑุบู ูู ุฃููุง ูุฏุนููุฉ ุนูู ูุทุงู ูุงุณุน ุงูุขู).

**ูุซุงู ุนูู ุงูุชูุญูุฏ (ุจุงุณุชุฎุฏุงู `crypto.randomUUID()`):**
```javascript
// ุจุฏูุงู ูู: id: Date.now() + Math.random(),
id: crypto.randomUUID ? crypto.randomUUID() : Date.now().toString(36),
```

**ููุงุญุธุฉ:** ุงูููุฏ ุงูุญุงูู ูุญุชูู ุจุงููุนู ุนูู fallback ูู `crypto.randomUUID()`ุ ูุฐุง ูุฅู ุงูุชูุญูุฏ ุณูููู ุจุณูุทูุง.




### 4. ูุดุงูู ูุญุชููุฉ ูู ูุธุงุฆู `deleteItem` ู `togglePaid`

**ุงููุดููุฉ:**

*   **`deleteItem`:** ุชุนุชูุฏ ูุฐู ุงููุธููุฉ ุนูู ุชูุฑูุฑ `kind` (ููุน ุงูุนูุตุฑ ูุซู 'inst', 'bills', 'exps', 'one', 'budgets') ู `id` ุงูุฎุงุต ุจุงูุนูุตุฑ. ูุชู ุงุณุชุฎุฏุงู `filter` ูุฅุฒุงูุฉ ุงูุนูุตุฑ ูู ุงููุตูููุฉ ุงููุญููุฉ ูู `localStorage`. ููุน ุฐููุ ูุง ููุฌุฏ ุชุญูู ูู ุฃู `id` ูุฑูุฏ ุถูู `kind`ุ ููุง ูุฏ ูุคุฏู ุฅูู ุญุฐู ุนูุงุตุฑ ุบูุฑ ููุตูุฏุฉ ุฅุฐุง ูุงูุช ุงููุนุฑูุงุช ุบูุฑ ูุฑูุฏุฉ (ุนูู ุงูุฑุบู ูู ุฃู ุทุฑู ุชูููุฏ ุงููุนุฑูุงุช ุงูุญุงููุฉ ุชููู ูู ูุฐุง ุงูุฎุทุฑ).

*   **`togglePaid` ู `toggleOnePaid`:** ูุฐู ุงููุธุงุฆู ุชููู ุจุชุบููุฑ ุญุงูุฉ ุงูุฏูุน ูุนูุตุฑ ูุนูู. `togglePaid` ุชุณุชุฎุฏู `isPaid` ู `setPaid`ุ ุจูููุง `toggleOnePaid` ุชููู ุจุชุนุฏูู ุงูุนูุตุฑ ูุจุงุดุฑุฉ ุซู ุญูุธู. ูุฐุง ุงูุชูุงูุถ ูู ุงูุชุนุงูู ูุน ุญุงูุฉ ุงูุฏูุน ูููู ุฃู ูุคุฏู ุฅูู ุตุนูุจุฉ ูู ุงูุตูุงูุฉ ูููู ุชุฏูู ุงูุจูุงูุงุช.

**ุงูุญู ุงูููุชุฑุญ:**

*   **ูู `deleteItem`:**
    *   ุชุฃูุฏ ูู ุฃู ุงููุนุฑูุงุช ูุฑูุฏุฉ ุฏุงุฆููุง ููู ููุน ูู ุฃููุงุน ุงูุจูุงูุงุช. ุงุณุชุฎุฏุงู `crypto.randomUUID()` ุจุดูู ููุญุฏ ุณูุณุงุนุฏ ูู ุฐูู.
    *   ูููู ุฅุถุงูุฉ ุชุฃููุฏ ูููุณุชุฎุฏู ูุจู ุงูุญุฐู ูุชุฌูุจ ุงูุญุฐู ุบูุฑ ุงูููุตูุฏ.

*   **ูู `togglePaid` ู `toggleOnePaid`:**
    *   ุชูุญูุฏ ุทุฑููุฉ ุงูุชุนุงูู ูุน ุญุงูุฉ ุงูุฏูุน. ููุถู ุงุณุชุฎุฏุงู ูุธููุฉ ุนุงูุฉ ูุซู `setPaid` ุงูุชู ุชุชุนุงูู ูุน ุฌููุน ุฃููุงุน ุงูุนูุงุตุฑ ุงูุชู ูููู ุฏูุนูุง.
    *   ุชุฃูุฏ ูู ุฃู ุงูุชุบููุฑุงุช ูุชู ุญูุธูุง ุจุดูู ุตุญูุญ ูู `localStorage` ุจุนุฏ ุงูุชุจุฏูู.

**ูุซุงู ุนูู ุชูุญูุฏ `toggleOnePaid`:**
```javascript
function toggleOnePaid(id) {
    const L = getLS(K.one, "[]");
    const itemIndex = L.findIndex(x => x.id == id);
    if (itemIndex > -1) {
        L[itemIndex].paid = !L[itemIndex].paid;
        setLS(K.one, L);
        showToast("โ ุชู ุชุญุฏูุซ ุญุงูุฉ ุงูุฏูุน!", "success");
        refreshOne();
        refreshSummary();
        refreshCharts();
    }
}
```




### 5. ุงุณุชุฏุนุงุกุงุช ูุชูุฑุฑุฉ ูุบูุฑ ุถุฑูุฑูุฉ ููุธุงุฆู ุงูุชุญุฏูุซ (Refresh Functions)

**ุงููุดููุฉ:**
ุจุนุฏ ูู ุนูููุฉ ุฅุถุงูุฉ ุฃู ุชุนุฏูู (ูุซู ุฅุถุงูุฉ ูุณุทุ ูุงุชูุฑุฉุ ูุตุฑูู)ุ ูุชู ุงุณุชุฏุนุงุก ุนุฏุฉ ูุธุงุฆู ุชุญุฏูุซ (`refreshInst()`, `refreshBills()`, `refreshExp()`, `refreshBudgets()`, `refreshSummary()`, `refreshCharts()`). ูู ุจุนุถ ุงูุญุงูุงุชุ ูุฏ ุชููู ุจุนุถ ูุฐู ุงูุงุณุชุฏุนุงุกุงุช ุบูุฑ ุถุฑูุฑูุฉ ุฃู ูููู ุฏูุฌูุง.

**ูุซุงู:**
ุนูุฏ ุฅุถุงูุฉ ูุณุท ุฌุฏูุฏุ ูุชู ุงุณุชุฏุนุงุก `refreshInst()` ู `refreshSummary()` ู `refreshCharts()`. ูุฐุง ููุทูู. ูููู ูู ุจุนุถ ุงูุฃูุงูู ุงูุฃุฎุฑูุ ูุฏ ูููู ููุงู ุชูุฑุงุฑ.

**ุงูุญู ุงูููุชุฑุญ:**
*   **ุฏูุฌ ุงูุชุญุฏูุซุงุช:** ูููู ุฅูุดุงุก ูุธููุฉ ุชุญุฏูุซ ุดุงููุฉ (ูุซู `refreshAll()` ุงูุชู ูุชู ุงุณุชุฏุนุงุคูุง ุจุงููุนู ูู ุจุนุถ ุงูุฃูุงูู) ุชููู ุจุชุญุฏูุซ ุฌููุน ุงูุฃุฌุฒุงุก ุงูุถุฑูุฑูุฉ ูู ุงููุงุฌูุฉ ุจุนุฏ ุฃู ุชุบููุฑ ูู ุงูุจูุงูุงุช. ูุฐุง ูุถูู ุงูุงุชุณุงู ููููู ูู ุงูุชูุฑุงุฑ.
*   **ุงูุชุญุฏูุซ ุงูุงูุชูุงุฆู:** ูู ุจุนุถ ุงูุญุงูุงุชุ ูุฏ ูููู ุงูุชุญุฏูุซ ุงูุงูุชูุงุฆู ูุฃุฌุฒุงุก ูุนููุฉ ูู ุงููุงุฌูุฉ ุฃูุซุฑ ููุงุกุฉุ ูููู ูุฌุจ ุงูุชุฃูุฏ ูู ุฃู ุฌููุน ุงูุฃุฌุฒุงุก ุงููุชุฃุซุฑุฉ ูุชู ุชุญุฏูุซูุง.




### 6. ุนุฏู ูุฌูุฏ ูุธููุฉ ุญุฐู ููุญุฏุฉ ูุฌููุน ุฃููุงุน ุงูุนูุงุตุฑ

**ุงููุดููุฉ:**
ุงูููุฏ ูุณุชุฎุฏู ูุธููุฉ `deleteItem(kind, id)` ูุญุฐู ุงูุนูุงุตุฑ ูู `localStorage`. ูุฐู ุงููุธููุฉ ุชููู ุจุชุตููุฉ ุงููุตูููุฉ ูุฅุนุงุฏุฉ ุญูุธูุง. ููุน ุฐููุ ูุง ููุฌุฏ ููุงู ูุงุถุญ ูุชุนุฑูู ูุฐู ุงููุธููุฉ ูู ุงูููุฏ ุงููุฑููุ ููุง ูุดูุฑ ุฅูู ุฃููุง ูุฏ ุชููู ููููุฏุฉ ุฃู ูุนุชูุฏุฉ ุนูู ุณูุงู ุฎุงุฑุฌู.

**ุงูุญู ุงูููุชุฑุญ:**
ูุฌุจ ุชุนุฑูู ูุธููุฉ `deleteItem` ุจุดูู ุตุฑูุญ ููุงุถุญ ูู ุงูููุฏุ ูุงูุชุฃูุฏ ูู ุฃููุง ุชุชุนุงูู ูุน ุฌููุน ุฃููุงุน ุงูุจูุงูุงุช (inst, bills, exps, one, budgets) ุจุดูู ุตุญูุญ. ูุฌุจ ุฃู ุชููู ุงููุธููุฉ ุจูุง ููู:
1.  ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ูู `localStorage` ุจุงุณุชุฎุฏุงู `kind`.
2.  ุชุตููุฉ ุงููุตูููุฉ ูุฅุฒุงูุฉ ุงูุนูุตุฑ ุงูุฐู ูุทุงุจู `id`.
3.  ุญูุธ ุงููุตูููุฉ ุงููุญุฏุซุฉ ูุฑุฉ ุฃุฎุฑู ูู `localStorage`.
4.  ุงุณุชุฏุนุงุก ูุธุงุฆู ุงูุชุญุฏูุซ ุงูููุงุณุจุฉ (`refreshAll()` ุฃู ุงููุธุงุฆู ุงููุญุฏุฏุฉ ููู ูุณู).

**ูุซุงู ุนูู ุชุนุฑูู `deleteItem`:**
```javascript
function deleteItem(kind, id) {
    let L = getLS(K[kind], "[]");
    const originalLength = L.length;
    L = L.filter(item => item.id != id);
    if (L.length < originalLength) {
        setLS(K[kind], L);
        showToast("๐๏ธ ุชู ุงูุญุฐู ุจูุฌุงุญ!", "success");
        refreshAll(); // ุฃู ุงุณุชุฏุนุงุก ุงููุธุงุฆู ุงููุญุฏุฏุฉ ูุซู refreshInst(), refreshBills() ุฅูุฎ.
    } else {
        showToast("โ๏ธ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุนูุตุฑ ููุญุฐู", "warning");
    }
}

// ูุฌุจ ุฃู ุชููู ูุฐู ุงููุธููุฉ ูุชุงุญุฉ ุนุงูููุงู (ูุซูุงูุ ุนู ุทุฑูู window.deleteItem = deleteItem;)
// ุฅุฐุง ูุงูุช ุชูุณุชุฏุนู ูุจุงุดุฑุฉ ูู HTML onclick
```




### 7. ุฅุนุฏุงุฏุงุช Firebase ูุฏูุฌุฉ ูุจุงุดุฑุฉ ูู ุงูููุฏ

**ุงููุดููุฉ:**
ูุชู ุชุถููู `firebaseConfig` ูุจุงุดุฑุฉ ูู ููู HTML. ูุฐุง ููุณ ููุท ูุดููุฉ ุฃูููุฉ (ููุง ุฐูุฑ ูู ุงูููุทุฉ 1)ุ ููููู ุฃูุถูุง ูุฌุนู ุฅุฏุงุฑุฉ ุงูุจูุฆุงุช ุงููุฎุชููุฉ (ุชุทููุฑุ ุงุฎุชุจุงุฑุ ุฅูุชุงุฌ) ุตุนุจุฉ. ุฅุฐุง ูุงู ูุฏูู ุฃูุซุฑ ูู ูุดุฑูุน Firebase ุฃู ุจูุฆุฉุ ูุณุชุญุชุงุฌ ุฅูู ุชุบููุฑ ุงูููุฏ ูุฏูููุง ูู ูู ูุฑุฉ.

**ุงูุญู ุงูููุชุฑุญ:**
*   **ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables):** ุงูุญู ุงูุฃูุถู ูู ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุฅุนุฏุงุฏุงุช Firebase. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ููุช ุชุณุชุฎุฏู ุฃุฏุงุฉ ุจูุงุก ูุซู Webpack ุฃู Viteุ ููููู ุชุนุฑูู ูุชุบูุฑุงุช ุจูุฆุฉ ูุซู `process.env.VUE_APP_FIREBASE_API_KEY` ุซู ุงููุตูู ุฅูููุง ูู ุงูููุฏ. ูุฐุง ูุณูุญ ูู ุจุชุบููุฑ ุงูุฅุนุฏุงุฏุงุช ุจูุงุกู ุนูู ุงูุจูุฆุฉ ุงูุชู ูุชู ูููุง ุจูุงุก ุงูุชุทุจูู ุฏูู ุชุนุฏูู ุงูููุฏ ุงููุตุฏุฑู.
*   **ููู ุฅุนุฏุงุฏุงุช ูููุตู:** ูููู ูุถุน ุฅุนุฏุงุฏุงุช Firebase ูู ููู JavaScript ูููุตู (ูุซู `firebase-config.js`) ูุง ูุชู ุฑูุนู ุฅูู GitHub ุงูุนุงูุ ููุชู ุงุณุชูุฑุงุฏู ูู ุงูููู ุงูุฑุฆูุณู. ูุฐุง ูููุฑ ุทุจูุฉ ุจุณูุทุฉ ูู ุงููุตู.

**ููุงุญุธุฉ:** ูุธุฑูุง ูุฃูู ุชุณุชุฎุฏู Firebase Hostingุ ูุฅู ูุฐุง ุงูุฌุงูุจ ูุฏ ูููู ุฃูู ุฃูููุฉ ูู ุฌุงูุจ ุงูุฃูุงู (ุงูููุทุฉ 1)ุ ูููู ูุง ูุฒุงู ูู ุงูููุงุฑุณุงุช ุงูุฌูุฏุฉ ูุตู ุงูุฅุนุฏุงุฏุงุช ุนู ุงูููุฏ ุงูุฃุณุงุณู.




### 8. ูุธุงุฆู ุบูุฑ ูุนุฑูุฉ ุนุงููููุง (Global Functions)

**ุงููุดููุฉ:**
ูุณุชุฎุฏู ุงูููุฏ ุจุนุถ ุงููุธุงุฆู ูุจุงุดุฑุฉ ูู ุณูุงุช `onclick` ูู HTML (ูุซู `togglePaid`, `deleteItem`, `toggleOnePaid`). ููู ุชุนูู ูุฐู ุงููุธุงุฆู ุนูุฏ ุงูููุฑ ุนูููุงุ ูุฌุจ ุฃู ุชููู ูุชุงุญุฉ ูู ุงููุทุงู ุงูุนุงู (global scope) ุฃู ุฃู ูุชู ุฑุจุทูุง ุจุงูุฃุญุฏุงุซ ุจุทุฑููุฉ ุฃุฎุฑู (ูุซู `addEventListener`). ูู ุงูููุฏ ุงููุฑููุ ูุง ูุจุฏู ุฃู ูุฐู ุงููุธุงุฆู ูุนุฑูุฉ ุจุดูู ุตุฑูุญ ูู ุงููุทุงู ุงูุนุงู.

**ุงูุญู ุงูููุชุฑุญ:**
ูุฌุจ ุงูุชุฃูุฏ ูู ุฃู ูุฐู ุงููุธุงุฆู ูุชุงุญุฉ ุนุงููููุง. ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุดููุนูุง ูู ุฅุณูุงุฏูุง ุฅูู ูุงุฆู `window`:

```javascript
window.togglePaid = togglePaid;
window.deleteItem = deleteItem;
window.toggleOnePaid = toggleOnePaid;
// ูููุฐุง ูุฃู ูุธููุฉ ูุชู ุงุณุชุฏุนุงุคูุง ูุจุงุดุฑุฉ ูู HTML
```

ุฃูุ ุงูุฃูุถู ูู ุฐููุ ุงุณุชุฎุฏุงู `addEventListener` ูุฑุจุท ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ (event handlers) ุฏููุงูููููุงุ ููุง ููุตู JavaScript ุนู HTML ููุฌุนู ุงูููุฏ ุฃูุซุฑ ูุธุงูุฉ ููุงุจููุฉ ููุตูุงูุฉ. ููุน ุฐููุ ูุฏ ูุชุทูุจ ูุฐุง ุฅุนุงุฏุฉ ููููุฉ ุฃูุจุฑ.




### 9. ุนุฏู ูุฌูุฏ ูุนุงูุฌุฉ ููุฃุฎุทุงุก ุนูุฏ ุชููุฆุฉ ุงูุฑุณูู ุงูุจูุงููุฉ

**ุงููุดููุฉ:**
ุงูููุฏ ูุณุชุฎุฏู `Chart.js` ูุฅูุดุงุก ุงูุฑุณูู ุงูุจูุงููุฉ. ูุธููุฉ `setupCharts()` ุชุชุญูู ูู `typeof Chart === 'undefined'` ูุจู ุงูุชููุฆุฉุ ูููููุง ูุง ุชุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุงูุชู ูุฏ ุชุญุฏุซ ุฃุซูุงุก ุชููุฆุฉ ุงูุฑุณูู ุงูุจูุงููุฉ ููุณูุง (ูุซู ุนุฏู ูุฌูุฏ ุนูุตุฑ `canvas` ุจุงูู `id` ุงูุตุญูุญุ ุฃู ูุดุงูู ูู ุงูุจูุงูุงุช).

**ุงูุญู ุงูููุชุฑุญ:**
ูููู ุฅุถุงูุฉ ูุชู `try...catch` ุญูู ุชููุฆุฉ ุงูุฑุณูู ุงูุจูุงููุฉ ููุชุนุงูู ูุน ุฃู ุฃุฎุทุงุก ูุฏ ุชุญุฏุซุ ููุง ูููุน ุชุนุทู ุงูุชุทุจูู ุจุงููุงูู ุฅุฐุง ูุดู ุฌุฒุก ุงูุฑุณูู ุงูุจูุงููุฉ.

**ูุซุงู:**
```javascript
function setupCharts() {
    if (typeof Chart === 'undefined') return;

    Chart.defaults.font.family = 'Tajawal, system-ui, Arial';
    Chart.defaults.color = '#8da3c1';

    try {
        const monthlyCtx = $("#chartMonthly");
        if (monthlyCtx) {
            monthlyChart = new Chart(monthlyCtx, { /* ... */ });
        }
    } catch (error) {
        console.error("Error setting up monthly chart:", error);
        showToast("โ ุฎุทุฃ ูู ุชุญููู ุงูุฑุณู ุงูุจูุงูู ุงูุดูุฑู", "danger");
    }

    try {
        const breakdownCtx = $("#chartBreakdown");
        if (breakdownCtx) {
            breakdownChart = new Chart(breakdownCtx, { /* ... */ });
        }
    } catch (error) {
        console.error("Error setting up breakdown chart:", error);
        showToast("โ ุฎุทุฃ ูู ุชุญููู ุฑุณู ุชูุฒูุน ุงููุตุฑููุงุช", "danger");
    }
}
```



